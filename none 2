// 2. Calcular salario para cada jornal
    const jornalesConSalario = jornales.map((jornal, index) => {
      // Validar que el jornal tenga los campos necesarios
      if (!jornal.jornada || !jornal.puesto || !jornal.fecha) {
        console.warn('‚ö†Ô∏è Jornal incompleto, saltando:', jornal);
        return null;
      }

      // Normalizar jornada: "08 a 14" ‚Üí "08-14", "20 a 02" ‚Üí "20-02"
      let jornada = jornal.jornada.replace(/\s+a\s+/g, '-').replace(/\s+/g, '').trim();

      // Normalizar puesto para comparaciones case-insensitive (eliminar espacios extra)
      const puestoLower = jornal.puesto.trim().replace(/\s+/g, ' ').toLowerCase();

      // 3.1 Buscar en mapeo de puestos usando comparaci√≥n case-insensitive
      let mapeo = mapeoPuestos.find(m => m.puesto.trim().replace(/\s+/g, ' ').toLowerCase() === puestoLower);

      // Mapeo de fallback para puestos conocidos que pueden no estar en la hoja
      const mapeoFallback = {
        'especialista': { puesto: 'Especialista', grupo_salarial: 'G1', tipo_operativa: 'Contenedor' },
        'trincador': { puesto: 'Trincador', grupo_salarial: 'G1', tipo_operativa: 'Trincador' },
        'trincador de coches': { puesto: 'Trincador de Coches', grupo_salarial: 'G1', tipo_operativa: 'Manual' },
        'conductor de coches': { puesto: 'Conductor de Coches', grupo_salarial: 'G2', tipo_operativa: 'Coches' },
        'conductor de 2a': { puesto: 'Conductor de 2a', grupo_salarial: 'G2', tipo_operativa: 'Coches' }
      };

      if (!mapeo) {
        // Intentar usar mapeo de fallback (b√∫squeda case-insensitive)
        if (mapeoFallback[puestoLower]) {
          mapeo = mapeoFallback[puestoLower];
          console.log(`‚ÑπÔ∏è Usando mapeo de fallback para: "${jornal.puesto}"`);
        } else {
          console.warn(`‚ö†Ô∏è Puesto no encontrado en mapeo: "${jornal.puesto}"`);
          if (index === 0) {
            console.log('Puestos disponibles en mapeo:', mapeoPuestos.map(m => m.puesto));
          }
          return { ...jornal, salario_base: 0, prima: 0, total: 0, error: 'Puesto no mapeado' };
        }
      }

      // Obtener grupo salarial y tipo de operativa
      let grupoSalarial = mapeo.grupo_salarial; // G1 o G2
      let tipoOperativa = mapeo.tipo_operativa; // Contenedor o Coches

      // Forzar valores correctos para asegurar coherencia
      if (puestoLower === 'conductor de coches' || puestoLower === 'conductor de 2a') {
        grupoSalarial = 'G2';
        tipoOperativa = 'Coches';
      }

      // Forzar G1 para Trincador (N/A en movimientos, prima de tabla)
      if (puestoLower === 'trincador') {
        grupoSalarial = 'G1';
        tipoOperativa = 'Trincador';
      }

      // Forzar G1 para Especialista (120 movimientos por defecto, prima con coeficiente)
      if (puestoLower === 'especialista') {
        grupoSalarial = 'G1';
        tipoOperativa = 'Contenedor'; // Especialista usa Contenedor para mostrar movimientos
      }

      if (puestoLower === 'trincador de coches') {
        grupoSalarial = 'G1';
        tipoOperativa = 'Manual';
      }

      // Forzar G2 para Conductor de 1a (120 movimientos por defecto, prima con coeficiente)
      if (puestoLower === 'conductor de 1a') {
        grupoSalarial = 'G2';
        tipoOperativa = 'Contenedor';
      }

      // Normalizar nombre de puesto para display
      let puestoDisplay = jornal.puesto;
      if (puestoLower === 'conductor de coches') {
        puestoDisplay = 'Conductor de 2a';
      }

      // 3.2 Determinar tipo de d√≠a
      const tipoDia = determinarTipoDia(jornal.fecha, jornada);

      // 3.3 Crear clave de jornada (ej: "08-14_LABORABLE")
      const claveJornada = `${jornada}_${tipoDia}`;

      // 3.4 Buscar en tabla salarial
      const salarioInfo = tablaSalarial.find(s => s.clave_jornada === claveJornada);

      if (!salarioInfo) {
        console.error(`‚ùå Clave de jornada NO encontrada: "${claveJornada}"`);
        console.log('üìã Claves disponibles:', tablaSalarial.map(t => `"${t.clave_jornada}"`).join(', '));
        console.log('üîç Buscando:', `"${claveJornada}" (Fecha: ${jornal.fecha}, Jornada: ${jornada}, Tipo d√≠a: ${tipoDia})`);
        return { ...jornal, salario_base: 0, prima: 0, total: 0, error: `Jornada no encontrada: ${claveJornada}` };
      }

      // Debug del primer jornal
      if (index === 0) {
        console.log('üîç DEBUG PRIMER JORNAL:');
        console.log('  Jornal:', jornal);
        console.log('  Puesto original:', jornal.puesto);
        console.log('  Puesto normalizado:', puestoLower);
        console.log('  Mapeo encontrado:', mapeo);
        console.log('  Tipo d√≠a:', tipoDia);
        console.log('  Clave jornada:', claveJornada);
        console.log('  Salario info:', salarioInfo);
      }

      // 3.5 Detectar si el usuario es OC bas√°ndose en su POSICI√ìN (no en el buque)
      // CAMBIO: Ahora se basa √∫nicamente en si posicionUsuario > LIMITE_SP
      // Ya no importa si el buque es "--" o vac√≠o
      const esConductorOC = (puestoLower === 'conductor de 1a' ||
                             puestoLower === 'conductor de coches' ||
                             puestoLower === 'conductor de 2a') && esUsuarioOC;

      let salarioBase = 0;
      let prima = 0;
      let esJornalFijo = esConductorOC; // Si es OC y conductor ‚Üí jornal fijo

      // Tabla de primas m√≠nimas para Trincador seg√∫n horario y jornada
      const primasMinimaTrincador = {
        '02-08_FESTIVO': 203.719,
        '02-08_LABORABLE': 140.105,
        '02-08_SABADO': 140.105,
        '08-14_FESTIVO': 114.031,
        '08-14_LABORABLE': 88.822,
        '08-14_SABADO': 88.822,
        '14-20_FESTIVO': 144.967,
        '14-20_LABORABLE': 88.822,
        '14-20_SABADO': 114.031,
        '20-02_FESTIVO': 220.058,
        '20-02_LABORABLE': 112.287,
        '20-02_SABADO': 151.393
      };

      if (esConductorOC) {
        // Conductores OC tienen salarios fijos sin prima
        // Tarifas diferenciadas por tipo de d√≠a (LABORABLE, SABADO, FESTIVO)
        const salariosOC = {
          // Jornada 02-08 (Super laboral)
          '02-08_LABORABLE': 321.95,
          '02-08_SABADO': 321.95,
          '02-08_FESTIVO': 321.95,

          // Jornada 08-14
          '08-14_LABORABLE': 179.75,
          '08-14_SABADO': 195.77,
          '08-14_FESTIVO': 195.77,

          // Jornada 14-20
          '14-20_LABORABLE': 179.75,
          '14-20_SABADO': 270,
          '14-20_FESTIVO': 408.92,

          // Jornada 20-02
          '20-02_LABORABLE': 253.75,
          '20-02_SABADO': 416.12,
          '20-02_FESTIVO': 253.75
        };

        const claveOC = `${jornada}_${tipoDia}`;
        salarioBase = salariosOC[claveOC] || salariosOC[jornada] || 0;
        prima = 0; // Sin prima para OC
      } else {
        // C√°lculo normal para SP y Contenedor/Coches/Trincador
        salarioBase = grupoSalarial === 'G1' ? salarioInfo.jornal_base_g1 : salarioInfo.jornal_base_g2;

        // A√±adir complemento de 46,94‚Ç¨ para Trincador y Trincador de Coches
        if (puestoLower === 'trincador' || puestoLower === 'trincador de coches') {
          salarioBase += 46.94;
          if (index === 0) {
            console.log(`‚úÖ Complemento aplicado a "${jornal.puesto}": +46.94‚Ç¨`);
          }
        }

        // 3.6 Calcular prima (por defecto 120 movimientos para Contenedor)
        if (tipoOperativa === 'Coches') {
          // Para Coches: usar prima fija de la tabla
          prima = salarioInfo.prima_minima_coches;
          if (index === 0) {
            console.log(`üöó Coches detectado - Prima: ${prima}‚Ç¨ (de prima_minima_coches)`);
          }
        } else if (tipoOperativa === 'Contenedor') {
          // A partir de 120 movimientos (>=120) se usa coef_mayor
          prima = 120 * salarioInfo.coef_prima_mayor120;
        } else if (tipoOperativa === 'Trincador') {
          // Para Trincador: calcular prima basada en barras √ó tarifa (sistema de trinca/destrinca)
          // Por defecto: 0 barras, se editar√° en la UI
          prima = 0;
          if (index === 0) {
            console.log(`üîß Trincador de Contenedor detectado - Prima basada en barras (por defecto: 0‚Ç¨)`);
          }
        } else if (tipoOperativa === 'Manual') {
          // Para Manual (ej: Trincador de Coches): prima editable, iniciar en 0
          prima = 0;
          if (index === 0) {
            console.log(`‚úã Manual detectado (${jornal.puesto}) - Prima editable iniciada en 0‚Ç¨`);
          }
        }
      }

      // 3.7 Total
      const total = salarioBase + prima;

      if (index === 0) {
        console.log('  Grupo salarial:', grupoSalarial);
        console.log('  Es Conductor OC:', esConductorOC);
        console.log('  Salario base:', salarioBase);
        console.log('  Prima (120 mov):', prima);
        console.log('  Total:', total);
      }

      // Detectar si incluye complemento para mostrar asterisco
      const incluyeComplemento = (puestoLower === 'trincador' || puestoLower === 'trincador de coches');

      // IRPF: usar el irpf_aplicado del jornal si existe, sino usar el IRPF actual del usuario
      const irpfOriginal = jornal.irpf_aplicado; // Guardar el valor original de la BD
      const irpfJornal = (jornal.irpf_aplicado !== null && jornal.irpf_aplicado !== undefined)
        ? jornal.irpf_aplicado
        : irpfPorcentaje;

      return {
        ...jornal,
        puesto_display: puestoDisplay,
        salario_base: salarioBase,
        prima: prima, // Prima inicial calculada
        total: total, // Total inicial calculado
        grupo_salarial: grupoSalarial,
        tipo_operativa: tipoOperativa,
        tipo_dia: tipoDia,
        clave_jornada: claveJornada,
        es_jornal_fijo: esJornalFijo,
        incluye_complemento: incluyeComplemento,
        irpf_aplicado: irpfJornal, // IRPF espec√≠fico de este jornal
        irpf_aplicado_original: irpfOriginal // Valor original de la BD para detectar si necesita actualizaci√≥n
      };
    }).filter(j => j !== null); // Filtrar jornales nulos (incompletos)

    // IMPORTANTE: Asignar IRPF a jornales que no lo tienen en la base de datos
    // Esto asegura que los jornales antiguos mantengan el IRPF actual como "congelado"
    const jornalesSinIRPF = jornalesConSalario.filter(j =>
      (j.irpf_aplicado_original === null || j.irpf_aplicado_original === undefined) && j.id
    );

    if (jornalesSinIRPF.length > 0) {
      console.log(`üìù Asignando IRPF (${irpfPorcentaje}%) a ${jornalesSinIRPF.length} jornales sin IRPF guardado...`);

      // Actualizar en batch todos los jornales sin IRPF
      const updates = jornalesSinIRPF.map(jornal =>
        window.supabaseClient
          .from('jornales')
          .update({ irpf_aplicado: irpfPorcentaje })
          .eq('id', jornal.id)
      );

      try {
        await Promise.all(updates);
        console.log(`‚úÖ IRPF asignado correctamente a ${jornalesSinIRPF.length} jornales`);
      } catch (error) {
        console.error('‚ùå Error asignando IRPF a jornales:', error);
      }
    }

    // 3. Agrupar por quincena (DESPU√âS de filtrar jornales incompletos)
    const quincenasMap = groupByQuincena(jornalesConSalario);

    // 4. Calcular estad√≠sticas globales (iniciales)
    // Estos totales se recalcular√°n despu√©s con `actualizarTotales`
    const totalJornalesGlobal = jornalesConSalario.length;
    let salarioTotalBrutoGlobal = jornalesConSalario.reduce((sum, j) => sum + j.total, 0);
    // Calcular neto usando el IRPF espec√≠fico de cada jornal
    let salarioTotalNetoGlobal = jornalesConSalario.reduce((sum, j) => {
      return sum + (j.total * (1 - j.irpf_aplicado / 100));
    }, 0);
    let salarioPromedioBrutoGlobal = totalJornalesGlobal > 0 ? salarioTotalBrutoGlobal / totalJornalesGlobal : 0;

    // 5. Mostrar IRPF control y estad√≠sticas
    if (irpfControl) {
      irpfControl.style.display = 'block';
    }

    stats.innerHTML = `
      <div class="stat-card">
        <div class="stat-value">${totalJornalesGlobal}</div>
        <div class="stat-label">Jornales Totales (Anual)</div>
      </div>
      <div class="stat-card">
        <div class="stat-value" style="color: var(--puerto-orange);">${salarioTotalBrutoGlobal.toFixed(2)}‚Ç¨</div>
        <div class="stat-label">Total Bruto (Anual)</div>
      </div>
      <div class="stat-card">
        <div class="stat-value" style="color: var(--puerto-green);">${salarioTotalNetoGlobal.toFixed(2)}‚Ç¨</div>
        <div class="stat-label">Total Neto (Anual con IRPF aplicado)</div>
      </div>
      <div class="stat-card">
        <div class="stat-value" style="color: var(--puerto-orange);">${salarioPromedioBrutoGlobal.toFixed(2)}‚Ç¨</div>
        <div class="stat-label">Promedio Bruto (Anual)</div>
      </div>
    `;

    // 6. Renderizar quincenas con salarios
    const quincenasArray = Array.from(quincenasMap.entries())
      .map(([key, jornalesQuincena]) => {
        // Asegurarse de que los objetos jornal dentro de jornalesQuincena
        // sean los mismos que en jornalesConSalario para que los cambios se reflejen
        const jornalesConSalarioQuincena = jornalesQuincena.map(j => {
          return jornalesConSalario.find(jcs => 
            jcs.fecha === j.fecha && jcs.jornada === j.jornada && jcs.puesto === j.puesto
          ) || j; // Fallback al original si no se encuentra (no deber√≠a pasar)
        }).filter(j => j);
        
        const [year, month, quincena] = key.split('-').map(Number);
        return { year, month, quincena, jornales: jornalesConSalarioQuincena }; // Usar el array con salarios
      })
      .sort((a, b) => {
        // Ordenar por a√±o, mes, quincena descendente
        if (a.year !== b.year) return b.year - a.year;
        if (a.month !== b.month) return b.month - a.month;
        return b.quincena - a.quincena;
      });

    const monthNamesShort = ['Ene', 'Feb', 'Mar', 'Abr', 'May', 'Jun', 'Jul', 'Ago', 'Sep', 'Oct', 'Nov', 'Dic'];

    // Funci√≥n auxiliar para generar acorde√≥n m√≥vil
    const generarAcordeonMovil = (j, idx, year, month, quincena) => {
      // Validar que el jornal tenga los campos necesarios
      if (!j.jornada || !j.fecha) {
        console.warn('‚ö†Ô∏è Jornal incompleto en acorde√≥n m√≥vil, saltando:', j);
        return ''; // Retornar string vac√≠o para no romper el HTML
      }

      const accordionId = `accordion-${year}-${month}-${quincena}-${idx}`;
      const lockKey = `${j.fecha}_${j.jornada.replace(/\s+a\s+/g, '-').replace(/\s+/g, '')}`;
      const lockedData = lockedValues[lockKey] || {};

      let movimientosValue;
      if (j.tipo_operativa === 'Trincador') {
        movimientosValue = lockedData.movimientos !== undefined ? lockedData.movimientos : 0;
      } else {
        movimientosValue = lockedData.movimientos !== undefined ? lockedData.movimientos : (j.tipo_operativa === 'Contenedor' ? 120 : 0);
      }

      let primaValue = lockedData.prima !== undefined ? lockedData.prima : j.prima;
      const horasRelevoValue = lockedData.horasRelevo || 0;
      const horasRemateValue = lockedData.horasRemate || 0;
      const barrasTrincaValue = j.tipo_operativa === 'Trincador' ? movimientosValue : 0;
      const tipoOperacionTrincaValue = lockedData.tipoOperacionTrincaPersonalizada || null;

      // Recalcular prima
      if (j.tipo_operativa === 'Contenedor' && !j.es_jornal_fijo) {
        const salarioInfo = tablaSalarial.find(s => s.clave_jornada === j.clave_jornada);
        if (salarioInfo) {
          primaValue = movimientosValue < 120
            ? movimientosValue * salarioInfo.coef_prima_menor120
            : movimientosValue * salarioInfo.coef_prima_mayor120;
        }
      }

      if (j.tipo_operativa === 'Trincador' && barrasTrincaValue > 0 && tipoOperacionTrincaValue) {
        const { horario_trinca, jornada_trinca } = mapearTipoDiaParaTrincaDestrinca(j.tipo_dia, j.jornada);
        const tarifa = buscarTarifaTrincaDestrinca(tarifasTrincaDestrinca, horario_trinca, jornada_trinca, tipoOperacionTrincaValue);
        primaValue = barrasTrincaValue * tarifa;
      }

      const tarifaRelevoAcc = calcularTarifaRelevo(j.jornada.replace(/\s+a\s+/g, '-').replace(/\s+/g, ''), j.tipo_dia);
      const importeRelevoAcc = tarifaRelevoAcc ? (horasRelevoValue * tarifaRelevoAcc) : 0;
      const tarifaRemateAcc = calcularTarifaRemate(j.jornada.replace(/\s+a\s+/g, '-').replace(/\s+/g, ''), j.tipo_dia);
      const importeRemateAcc = tarifaRemateAcc ? (horasRemateValue * tarifaRemateAcc) : 0;

      const brutoAcc = j.salario_base + primaValue + importeRelevoAcc + importeRemateAcc;
      const netoAcc = brutoAcc * (1 - j.irpf_aplicado / 100);

      // Generar campos seg√∫n tipo
      let camposHTML = '';

      // Base siempre visible
      camposHTML += `
        <div class="accordion-field">
          <label>Base</label>
          <div style="padding: 0.5rem; background: #f1f5f9; border-radius: 6px; font-weight: 500;">
            ${j.salario_base.toFixed(2)}‚Ç¨${j.incluye_complemento ? '*' : ''}
          </div>
        </div>`;

      if (j.es_jornal_fijo) {
        camposHTML += `
          <div class="accordion-field">
            <label>Tipo</label>
            <div style="padding: 0.5rem; background: #f1f5f9; border-radius: 6px;">Fijo OC</div>
          </div>`;
      } else if (j.tipo_operativa === 'Contenedor') {
        camposHTML += `
          <div class="accordion-field">
            <label>Movimientos</label>
            <input type="number" class="acc-movimientos-input" value="${movimientosValue}" min="0" data-jornal-index="${idx}">
          </div>
          <div class="accordion-field span-2">
            <label>Prima</label>
            <input type="number" class="acc-prima-input" value="${primaValue.toFixed(2)}" min="0" step="0.01" data-jornal-index="${idx}">
          </div>`;
      } else if (j.tipo_operativa === 'Trincador') {
        camposHTML += `
          <div class="accordion-field">
            <label>Barras</label>
            <input type="number" class="acc-barras-input" value="${barrasTrincaValue}" min="0" data-jornal-index="${idx}">
          </div>
          <div class="accordion-field">
            <label>Operaci√≥n</label>
            <select class="acc-tipo-op-select" data-jornal-index="${idx}">
              <option value="" ${!tipoOperacionTrincaValue ? 'selected' : ''}>-</option>
              <option value="TRINCA" ${tipoOperacionTrincaValue === 'TRINCA' ? 'selected' : ''}>Trinca</option>
              <option value="DESTRINCA" ${tipoOperacionTrincaValue === 'DESTRINCA' ? 'selected' : ''}>Destrinca</option>
            </select>
          </div>
          <div class="accordion-field span-2">
            <label>Prima</label>
            <input type="number" class="acc-prima-input" value="${primaValue.toFixed(2)}" min="0" step="0.01" data-jornal-index="${idx}">
          </div>`;
      } else {
        camposHTML += `
          <div class="accordion-field">
            <label>Prima</label>
            <input type="number" class="acc-prima-input" value="${primaValue.toFixed(2)}" min="0" step="0.01" data-jornal-index="${idx}">
          </div>`;
      }

      // Relevo y Remate
      if (tarifaRelevoAcc !== null) {
        camposHTML += `
          <div class="accordion-field">
            <label>Relevo</label>
            <select class="acc-relevo-select" data-jornal-index="${idx}">
              <option value="0" ${horasRelevoValue === 0 ? 'selected' : ''}>No</option>
              <option value="1" ${horasRelevoValue > 0 ? 'selected' : ''}>S√≠</option>
            </select>
          </div>`;
      }
      if (tarifaRemateAcc !== null) {
        camposHTML += `
          <div class="accordion-field">
            <label>Remate</label>
            <select class="acc-remate-select" data-jornal-index="${idx}">
              <option value="0" ${horasRemateValue === 0 ? 'selected' : ''}>0h</option>
              <option value="1" ${horasRemateValue === 1 ? 'selected' : ''}>1h</option>
              <option value="2" ${horasRemateValue === 2 ? 'selected' : ''}>2h</option>
            </select>
          </div>`;
      }

      return `
        <div class="accordion-item" id="${accordionId}" data-lock-key="${lockKey}">
          <div class="accordion-header" onclick="this.parentElement.classList.toggle('open')">
            <div class="accordion-header-left">
              <span class="accordion-date">${formatearFecha(j.fecha)}</span>
              <span class="accordion-jornada">${j.jornada}</span>
              <span class="accordion-puesto">${j.puesto_display}</span>
            </div>
            <div class="accordion-header-right">
              <span class="accordion-total acc-bruto-value">${brutoAcc.toFixed(2)}‚Ç¨</span>
              <svg class="accordion-chevron" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"></path>
              </svg>
            </div>
          </div>
          <div class="accordion-content">
            <div class="accordion-body">
              <div class="accordion-fields">${camposHTML}</div>
              <div class="accordion-footer">
                <div class="accordion-footer-item">
                  <div class="accordion-footer-label">Bruto</div>
                  <div class="accordion-footer-value bruto acc-bruto-footer">${brutoAcc.toFixed(2)}‚Ç¨</div>
                </div>
                <div class="accordion-footer-item">
                  <div class="accordion-footer-label">Neto</div>
                  <div class="accordion-footer-value neto acc-neto-value">
                    ${netoAcc.toFixed(2)}‚Ç¨
                    ${j.irpf_aplicado && j.irpf_aplicado !== irpfPorcentaje ? `<span class="badge-irpf-diff" title="Este jornal tiene un IRPF del ${j.irpf_aplicado}% (diferente al actual: ${irpfPorcentaje}%)">${j.irpf_aplicado}%</span>` : ''}
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>`;
    };

    // Funci√≥n auxiliar para calcular tarifa de horas de relevo
    const calcularTarifaRelevo = (jornada, tipoDia) => {
      // No hay relevo en 02-08
      if (jornada === '02-08') return null;

      // Si tipoDia es undefined o null, asumir LABORABLE
      if (!tipoDia) {
        tipoDia = 'LABORABLE';
      }

      // Tarifa especial 93,55‚Ç¨ para:
      // - Festivos y domingos (cualquier tipo de d√≠a que incluya FEST)
      // - S√°bados desde 14-20 hasta 20-02
      if (tipoDia.includes('FEST') || (tipoDia === 'SABADO' && (jornada === '14-20' || jornada === '20-02'))) {
        return 93.55;
      }

      // Tarifa normal para el resto de jornadas
      return 64.31;
    };

    // Funci√≥n auxiliar para calcular tarifa de horas de remate (Grupo I por defecto)
    const calcularTarifaRemate = (jornada, tipoDia) => {
      // Si tipoDia es undefined o null, asumir LABORABLE
      if (!tipoDia) {
        tipoDia = 'LABORABLE';
      }

      const tarifasRemate = {
        '02-08': {
          'LABORABLE': 61.40,
          'FEST-LAB': 70.36,
          'FESTIVO': 110.57,
          'SABADO': 61.40, // Asumo mismo que laborable para s√°bado 02-08 si existe
          'FEST-FEST': 110.57 // Asumo mismo que festivo
        },
        '06-12': { // Esta jornada no est√° en tu determinarTipoDia, pero se mantiene por si acaso
          'LABORABLE': 41.13,
          'FESTIVO': 60.92,
          'SABADO': 41.13 // Asumo mismo que laborable
        },
        '08-14': {
          'LABORABLE': 29.02,
          'SABADO': 52.24,
          'FESTIVO': 75.46,
          'FEST-LAB': 75.46, // Asumo mismo que festivo para coherencia si aparece
          'LAB-FEST': 29.02 // Asumo mismo que laborable para coherencia si aparece
        },
        '14-20': {
          'LABORABLE': 43.51,
          'SABADO': 78.37,
          'FESTIVO': 110.99,
          'FEST-LAB': 110.99, // Asumo mismo que festivo para coherencia si aparece
          'LAB-FEST': 43.51 // Asumo mismo que laborable para coherencia si aparece
        },
        '20-02': {
          'LABORABLE': 43.51,
          'LAB-FEST': 99.25,
          'SABADO': 76.85,
          'FEST-LAB': 88.20,
          'FESTIVO': 110.57, // Asumo festivo en 20-02 si ocurre
          'FEST-FEST': 110.57 // Asumo festivo en 20-02 si ocurre
        }
      };

      return tarifasRemate[jornada]?.[tipoDia] || null;
    };
